日志缓存用于写undo log、redo log，日志的写盘关系到数据安全，这比数据本身的安全还重要，至少每秒自动执行一次脏页面写盘。

大小是 innodb_log_buffer_size 默认16MB。如果事务很大，一次更新、插入、删除很多行，可以增大一下。

可以看出，数据=磁盘 + 数据缓存 + 日志缓存
当系统崩溃时，对崩溃前一秒内commit的数据来说，数据未落盘但日志落盘了，这还可以通过redo log重放恢复。若日志没落盘，数据就丢了，用户看到了保存，但并没有保存下来。

对备份数据来说，全表扫描会把大量数据依次读到缓存池里，这有两个问题：
前边的数据正在备份，后边的数据可能被其他事务修改了。
前边的数据修改可能新数据还没落盘，旧数据就被读走了。
所以备份表时，一要让所有数据落盘，二要锁表。